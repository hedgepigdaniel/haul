{"version":3,"sources":["../../src/server/launchBrowser.ts"],"names":["launchBrowser","runtime","url","openWith","app","darwin","win32","_","catch","error","logger","warn","message"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;;;AAGA;;;AAGe,SAASA,aAAT,CAAuBC,OAAvB,EAAyCC,GAAzC,EAAsD;AAAA;AAAA;;AACnE,QAAMC,QAAQ,GAAIC,GAAD,IAAiB;AAAA;AAAA;AAAA,iBAAM;AAAA;AAAA;AAAA,gCAAKF,GAAL,EAAU;AAAEE,QAAAA;AAAF,OAAV;AAAkB,KAAxB;AAAwB,GAA1D;AAEA;;;;;;;;AAHmE;AASnE,+BACE;AACE;AACAC,IAAAA,MAAM,EAAEF,QAAQ,CAAC,eAAD,CAFlB;AAGEG,IAAAA,KAAK,EAAEH,QAAQ,CAAC,QAAD,CAHjB;AAIEI,IAAAA,CAAC,EAAEJ,QAAQ,CAAC,eAAD;AAJb,GADF,EAOE;AACE;AACAE,IAAAA,MAAM,EAAEF,QAAQ,CAAC,sBAAD;AAFlB,GAPF,EAWE;AACE;AACAE,IAAAA,MAAM,EAAEF,QAAQ,CAAC,QAAD;AAFlB,GAXF,EAeEK,KAfF,CAeSC,KAAD,IAAkB;AAAA;AAAA;AACxBR,IAAAA,OAAO,CAACS,MAAR,CAAeC,IAAf,CACG,6DAA4DT,GAAI,MAAKO,KAAK,CAACG,OAAQ,EADtF;AAGD,GAnBD;AAoBD","sourcesContent":["import open from 'open';\nimport select from 'platform-select';\nimport Runtime from '../runtime/Runtime';\n\n/**\n * Launches given `url` in browser based on platform\n */\nexport default function launchBrowser(runtime: Runtime, url: string) {\n  const openWith = (app: string) => () => open(url, { app });\n\n  /**\n   * Run Chrome (Chrome Canary) or supported platform.\n   * In case of macOS, we can eventually fallback to Safari.\n   *\n   * select(attemp1, attemp2, attemp3,...) // attempt to run is from left to right\n   */\n  select(\n    {\n      // try to find & run Google Chrome\n      darwin: openWith('google chrome'),\n      win32: openWith('chrome'),\n      _: openWith('google-chrome'),\n    },\n    {\n      // On macOS let's try to find & run Canary\n      darwin: openWith('google chrome canary'),\n    },\n    {\n      // No Canary / Chrome, let's run Safari\n      darwin: openWith('safari'),\n    }\n  ).catch((error: Error) => {\n    runtime.logger.warn(\n      `Cannot start browser for debugging. Navigate manually to \"${url}\": ${error.message}`\n    );\n  });\n}\n"],"file":"launchBrowser.js"}