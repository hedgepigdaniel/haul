{"version":3,"sources":["../../../src/preset/utils/getBundlePlugin.ts"],"names":["getBundlePlugin","env","bundleConfig","type","BasicBundleWebpackPlugin","bundle","Boolean","bundleTarget","sourceMap","preloadBundles","dependsOn","RamBundlePlugin","minify","minifyOptions","indexRamBundle","singleBundleMode","bundleMode"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;;AACA;;;;AAGe,SAASA,eAAT,CACbC,GADa,EAEbC,YAFa,EAGG;AAAA;AAAA;;AAChB,MAAIA,YAAY,CAACC,IAAb,KAAsB,cAA1B,EAA0C;AAAA;AAAA;AACxC,WAAO,IAAIC,iCAAJ,CAA6B;AAClCC,MAAAA,MAAM,EAAEC,OAAO,CAACL,GAAG,CAACM,YAAJ,KAAqB,MAAtB,CADmB;AAElCC,MAAAA,SAAS,EAAEF,OAAO,CAACJ,YAAY,CAACM,SAAd,CAFgB;AAGlCC,MAAAA,cAAc,EAAEP,YAAY,CAACQ;AAHK,KAA7B,CAAP;AAKD,GAND,MAMO;AAAA;AAAA;AACL,WAAO,IAAIC,+BAAJ,CAAoB;AACzBC,MAAAA,MAAM,EAAEV,YAAY,CAACU,MADI;AAEzBC,MAAAA,aAAa,EAAEX,YAAY,CAACW,aAFH;AAGzBL,MAAAA,SAAS,EAAEF,OAAO,CAACJ,YAAY,CAACM,SAAd,CAHO;AAIzBM,MAAAA,cAAc,EAAEZ,YAAY,CAACC,IAAb,KAAsB,oBAJb;AAKzBY,MAAAA,gBAAgB,EAAEd,GAAG,CAACe,UAAJ,KAAmB,eALZ;AAMzBP,MAAAA,cAAc,EAAEP,YAAY,CAACQ;AANJ,KAApB,CAAP;AAQD;AACF","sourcesContent":["import webpack from 'webpack';\nimport RamBundlePlugin from '@haul-bundler/ram-bundle-webpack-plugin';\nimport BasicBundleWebpackPlugin from '@haul-bundler/basic-bundle-webpack-plugin';\nimport { EnvOptions, NormalizedBundleConfig } from '../../config/types';\n\nexport default function getBundlePlugin(\n  env: EnvOptions,\n  bundleConfig: NormalizedBundleConfig\n): webpack.Plugin {\n  if (bundleConfig.type === 'basic-bundle') {\n    return new BasicBundleWebpackPlugin({\n      bundle: Boolean(env.bundleTarget === 'file'),\n      sourceMap: Boolean(bundleConfig.sourceMap),\n      preloadBundles: bundleConfig.dependsOn,\n    });\n  } else {\n    return new RamBundlePlugin({\n      minify: bundleConfig.minify,\n      minifyOptions: bundleConfig.minifyOptions,\n      sourceMap: Boolean(bundleConfig.sourceMap),\n      indexRamBundle: bundleConfig.type === 'indexed-ram-bundle',\n      singleBundleMode: env.bundleMode === 'single-bundle',\n      preloadBundles: bundleConfig.dependsOn,\n    });\n  }\n}\n"],"file":"getBundlePlugin.js"}